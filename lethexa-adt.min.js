!function(a){"use strict";var b=function(){var a=this,b={};this.on=function(b,c){a.addListener(b,c)},this.addListener=function(a,c){var d=b[a];void 0===d&&(d=[],b[a]=d),d.push(c)},this.removeListener=function(a){var c=b[name];if(void 0!==c){var d=c.indexOf(a);0>d||(c.splice(d,1),0===c.length&&delete b[name])}},this.emit=function(a){var c=b[a];if(void 0!==c){var d=[].slice.call(arguments,1);c.forEach(function(a){a.apply(this,d)})}}};a.Map=function(){b.call(this);var a={},c=this;this.put=function(b,d){c.emit("add",d,b),a[b]=d},this.remove=function(b){if(void 0!==a[b]){var d=a[b];return delete a[b],c.emit("remove",d,b),d}},this.get=function(b){return a.hasOwnProperty(b)?a[b]:void 0},this.contains=function(a){return void 0!==c.get(a)},this.forEach=function(b){for(var c in a)a.hasOwnProperty(c)&&b(a[c],c)}},a.Map.prototype=new b,a.Stack=function(){b.call(this);var a=[],c=this;this.push=function(b){c.emit("add",b),a.push(b)},this.pop=function(){var b=a.pop();return c.emit("remove",b),b},this.forEach=function(b){return a.forEach(b)},this.size=function(){return a.length},this.isEmpty=function(){return 0===a.length},this.clear=function(){a.forEach(function(a){c.emit("remove",a)}),a=[]}},a.Stack.prototype=new b,a.Set=function(){b.call(this);var a=[],c=this;this.add=function(b){var d=a.indexOf(b);d>=0||(a.push(b),c.emit("add",b))},this.remove=function(b){var d=a.indexOf(b);0>d||(a.splice(d,1),c.emit("remove",b))},this.contains=function(b){return a.indexOf(b)>=0},this.forEach=function(b){return a.forEach(b)},this.length=function(){return a.length},this.isEmpty=function(){return 0===a.length},this.clear=function(){a.forEach(function(a){c.emit("remove",a)}),a=[]}},a.Set.prototype=new b,a.Node=function(){var a,b=this,c=[];this.setParent=function(b){a=b},this.getParent=function(){return a},this.addChild=function(a){var d=c.indexOf(a);d>=0||(c.push(a),a.setParent(b))},this.removeChild=function(a){var b=c.indexOf(a);0>b||(c.splice(b,1),a.setParent(void 0))},this.getChildren=function(){return c},this.preOrderIterate=function(a){a(b),c.forEach(function(b){b.preOrderIterate(a)})},this.postOrderIterate=function(a){c.forEach(function(b){b.postOrderIterate(a)}),a(b)}},a.Tree=function(){b.call(this);var a=this;this.signalSubTreeAdded=function(b){void 0!==b&&(a.emit("add",b),b.getChildren().forEach(function(b){a.signalSubTreeAdded(b)}))},this.signalSubTreeRemoved=function(b){void 0!==b&&(b.getChildren().forEach(function(b){a.signalSubTreeRemoved(b)}),a.emit("remove",b))}},a.Tree.prototype=new b}("undefined"==typeof exports?this.adt={}:exports);